<html xmlns="http://www.w3.org/1999/xhtml" lang="en" >
  <head id="head">
    
    <title id="header_title">Example - Hide/Show: Region follows button</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<style type="text/css">

div.topic {
    display: none; 
    margin-bottom: 1em;
    padding: .25em;
    border: black thin solid;
    background-color: #FFFFFF;
    width: 35em;
}

p.button {
    margin: .25em;
    padding: .25em;   
}

h2 {
  margin: 0;
  padding: 0;
  margin-top: 1em;  
  
}

a.buttonControl {
  color: #004400;
  text-decoration: none;
  border-bottom: 1px solid #004400;
}

a.buttonControl:hover,
a.buttonControl:active,
a.buttonControl:focus {
  color: #880000;
  border-bottom: 2px solid #880000;
}

</style>

<script type="text/javascript" src="http://www.oaa-accessibility.org/media/examples/js/jquery-1.4.2.min.js"></script>

<script type="text/javascript">

$(document).ready(function() {

   var hs1 = new hideShow('button1');
   var hs2 = new hideShow('button2');
   var hs3 = new hideShow('button3');
   var hs4 = new hideShow('button4');
  
}); // end ready()

//
// function hideShow() is the constructor for a hideShow widget. it accepts the html ID of
// an element to attach to.
//
// @param(id string) id is the html ID of the element to attach to
//
// @return N/A
//
function hideShow(id) {

   this.$id = $('#' + id);
   this.$region = $('#' + this.$id.attr('aria-controls'));

   this.keys = {
               enter: 13,
               space: 32
               };

   this.toggleSpeed = 100;

   // bind handlers
   this.bindHandlers();

} // end hidShow() constructor

//
// Function bindHandlers() is a member function to bind event handlers to the hideShow region
//
// return N/A
//
hideShow.prototype.bindHandlers = function() {

   var thisObj = this;

   this.$id.click(function(e) {

      thisObj.toggleRegion();

      e.stopPropagation();
      return false;
   });
}

//
// Function toggleRegion() is a member function to toggle the display of the hideShow region
//
// return N/A
//
hideShow.prototype.toggleRegion = function() {

      var thisObj = this;

		// toggle the region
		this.$region.slideToggle(this.toggleSpeed, function() {

			if ($(this).attr('aria-expanded') == 'false') { // region is collapsed

				// update the aria-expanded attribute of the region
				$(this).attr('aria-expanded', 'true');

				// move focus to the region
				$(this).focus();

				// update the button label
				thisObj.$id.find('span').html('Esconder');

			}
			else { // region is expanded

				// update the aria-expanded attribute of the region
				$(this).attr('aria-expanded', 'false');

				// update the button label
				thisObj.$id.find('span').html('Mostrar');
			}
		});

} // end toggleRegion()


</script>

  </head>
  
<body>  
  <div id="content">
    <h1>Example - Hide/Show: Region follows button</h1>


<div id="example" role="main">
    
    
 
    <h2 id="start">Example Start</h2>
    
    <div id="example_code">
        
<h2 id="t1-label">Topic 1</h2>

<p class="button">
    <button id="button1" class="buttonControl" aria-controls="t1"><span>Mostrar</span> Coment√°rios</button>
</p>

<div id="t1" class="topic" role="region" aria-labelledby="t1-label" tabindex="-1" aria-expanded="false">
    Topic 1 is all about being Topic 1 and may or may not have anything to do with other topics.
</div>


    </div>
    
    <h2 id="end">Example End</h2>
    
 
   
</body>
</html>
